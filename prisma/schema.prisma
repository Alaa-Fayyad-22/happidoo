// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Lead {
  id        String   @id @default(uuid())
  quoteNo   Int      @unique @default(autoincrement())
  createdAt DateTime @default(now())
  status    String   @default("new")

  productSlug  String?
  productSlugs String[] @default([])
  productNames String[] @default([])

  eventStartDate String? // TEMP optional
  eventEndDate   String? // TEMP optional

  timeWindow String
  city       String
  address    String
  name       String
  phone      String
  email      String
  notes      String @default("")
}

model Product {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name        String
  slug        String @unique
  category    String @default("general")
  stationId   Int?   @default(1)
  priceFrom   Int?
  size        String @default("")
  features    String @default("") // newline-separated
  description String @default("")

  imagePath String  @default("") // storage path inside bucket
  isActive  Boolean @default(true)
  sortOrder Int     @default(0)
}
